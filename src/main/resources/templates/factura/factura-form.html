<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario Factura</title>
</head>
<body>

<h1 th:text="${factura.idFactura == null ? 'Registrar Factura' : 'Editar Factura'}"></h1>

<a href="/facturas">⬅ Volver</a>
<br><br>

<p th:if="${error}" style="color:red;" th:text="${error}"></p>

<form action="/facturas/guardar" method="post">

    <input type="hidden" name="idFactura" th:value="${factura.idFactura}">

    <label for="numeroFactura">Número de factura:</label><br>
    <input id="numeroFactura" name="numeroFactura" type="text" required
           th:value="${factura.numeroFactura}">
    <br><br>

    <label for="subtotal">Subtotal:</label><br>
    <input id="subtotal" name="subtotal" type="number" step="0.01" required
           th:value="${factura.subtotal}">
    <br><br>

    <label for="estado">Estado:</label><br>
    <select id="estado" name="estado" required>
        <option value="PENDIENTE" th:selected="${factura.estado == 'PENDIENTE'}">PENDIENTE</option>
        <option value="PAGADA" th:selected="${factura.estado == 'PAGADA'}">PAGADA</option>
        <option value="ANULADA" th:selected="${factura.estado == 'ANULADA'}">ANULADA</option>
    </select>
    <br><br>

    <label for="metodoPago">Método de pago:</label><br>
    <input id="metodoPago" name="metodoPago" type="text"
           th:value="${factura.metodoPago}">
    <br><br>

    <button type="submit">Guardar</button>

</form>

</body>
</html>
